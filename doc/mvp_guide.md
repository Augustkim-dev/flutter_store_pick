# MVP 개발 가이드

## 개요
이 문서는 발레 용품 상점 찾기 서비스의 MVP(Minimum Viable Product)를 단계별로 구현하기 위한 가이드입니다.
각 Phase는 독립적으로 실행 가능한 앱을 만들며, 점진적으로 기능을 추가합니다.

## MVP 핵심 원칙
1. **최소 기능으로 시작**: 가장 핵심적인 기능만 구현
2. **빠른 출시**: 2-3주 내 작동하는 프로토타입 완성
3. **사용자 피드백**: 각 Phase 후 피드백 수렴 및 개선
4. **점진적 확장**: 안정적인 기반 위에 기능 추가

---

## Phase 1: 기본 앱 구조 (1주차)
### 목표
Flutter 프로젝트 기본 구조 설정 및 네비게이션 구현

### 구현 기능
1. **프로젝트 설정**
   - Flutter 프로젝트 구조 정리
   - 폴더 구조 설정 (`lib/screens`, `lib/widgets`, `lib/models`, `lib/services`)
   - 기본 테마 설정 (발레 컨셉의 파스텔 톤)

2. **하단 네비게이션 바**
   - 홈 (상점 목록)
   - 검색
   - 마이페이지

3. **기본 화면 구현**
   - 스플래시 화면
   - 각 탭의 빈 화면 (Placeholder)

### 기술 스택
```yaml
dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.8
```

### 체크리스트
- [ ] 프로젝트 폴더 구조 생성
- [ ] 하단 네비게이션 구현
- [ ] 기본 라우팅 설정
- [ ] 테마 색상 정의

---

## Phase 2: 정적 데이터로 상점 목록 표시 (2주차)
### 목표
하드코딩된 데이터로 상점 목록 UI 구현

### 구현 기능
1. **상점 모델 정의**
   ```dart
   class Shop {
     String id;
     String name;
     String shopType; // 'offline', 'online'
     String? address;
     String? websiteUrl;
     List<String> brands;
     double? rating;
   }
   ```

2. **상점 목록 화면**
   - 리스트뷰로 상점 카드 표시
   - 온라인/오프라인 구분 표시
   - 더미 데이터 10-15개 준비

3. **상점 상세 화면**
   - 상점 기본 정보 표시
   - 오프라인: 주소, 전화번호
   - 온라인: 웹사이트, 배송정보

### 체크리스트
- [ ] Shop 모델 클래스 생성
- [ ] 더미 데이터 준비
- [ ] 상점 리스트 UI 구현
- [ ] 상점 상세 페이지 구현
- [ ] 상점 유형별 아이콘/색상 구분

---

## Phase 3: Supabase 연동 및 실제 데이터 (3-4주차)
### 목표
Supabase 백엔드 연동 및 실제 데이터베이스 구축

### 구현 기능
1. **Supabase 설정**
   - 프로젝트 생성
   - 테이블 생성 (shops, brands, shop_brands)
   - 초기 데이터 입력

2. **데이터 연동**
   - Supabase 클라이언트 설정
   - 상점 목록 API 연동
   - 실시간 데이터 표시

3. **기본 필터링**
   - 온라인/오프라인 필터
   - 브랜드별 필터

### 기술 스택 추가
```yaml
dependencies:
  supabase_flutter: ^2.0.0
```

### 데이터베이스 스키마 (최소)
```sql
-- 상점 테이블 (간소화)
shops {
  id: uuid
  name: string
  shop_type: enum ('offline', 'online')
  address: string?
  website_url: string?
  phone: string
  description: text
  created_at: timestamp
}

-- 브랜드 테이블
brands {
  id: uuid
  name: string
}

-- 상점-브랜드 연결
shop_brands {
  shop_id: uuid
  brand_id: uuid
}
```

### 체크리스트
- [ ] Supabase 프로젝트 생성
- [ ] 데이터베이스 테이블 설정
- [ ] Flutter-Supabase 연동
- [ ] API 서비스 클래스 구현
- [ ] 더미 데이터를 실제 데이터로 교체

---

## Phase 4: 검색 기능 구현 (5주차)
### 목표
기본적인 검색 기능 구현

### 구현 기능
1. **검색 화면**
   - 검색바 UI
   - 상점명 검색
   - 브랜드명 검색

2. **검색 결과**
   - 실시간 검색 (디바운싱 적용)
   - 검색 결과 리스트
   - 검색어 하이라이트

3. **검색 히스토리** (선택사항)
   - 최근 검색어 저장
   - 인기 검색어 표시

### 체크리스트
- [ ] 검색 UI 구현
- [ ] Supabase 검색 쿼리 구현
- [ ] 검색 결과 표시
- [ ] 검색어 입력 디바운싱

---

## Phase 5: 지도 기능 - 오프라인 매장 표시 (6-7주차)
### 목표
네이버/카카오 지도 API를 이용한 오프라인 매장 위치 표시

### 구현 기능
1. **지도 통합**
   - 네이버 지도 SDK 연동
   - 현재 위치 권한 요청
   - 지도 기본 UI

2. **매장 마커 표시**
   - 오프라인 매장만 지도에 표시
   - 마커 클릭 시 간단한 정보 표시
   - 현재 위치 기준 거리 계산

3. **지도/목록 토글**
   - 지도 뷰와 리스트 뷰 전환
   - 지도에서 선택한 매장 상세보기

### 기술 스택 추가
```yaml
dependencies:
  naver_map_plugin: ^latest_version
  geolocator: ^latest_version
  permission_handler: ^latest_version
```

### 데이터베이스 업데이트
```sql
-- shops 테이블에 위치 정보 추가
ALTER TABLE shops ADD COLUMN latitude decimal;
ALTER TABLE shops ADD COLUMN longitude decimal;
```

### 체크리스트
- [ ] 네이버 지도 API 키 발급
- [ ] 지도 SDK 연동
- [ ] 위치 권한 처리
- [ ] 매장 마커 표시
- [ ] 마커 클러스터링 (매장 많을 경우)

---

## Phase 6: 사용자 인증 및 즐겨찾기 (8-9주차)
### 목표
기본적인 사용자 시스템 구현

### 구현 기능
1. **인증 시스템**
   - 이메일/비밀번호 회원가입
   - 로그인/로그아웃
   - Supabase Auth 활용

2. **사용자 프로필**
   - 기본 프로필 정보
   - 마이페이지 구현

3. **즐겨찾기 기능**
   - 상점 즐겨찾기 추가/제거
   - 즐겨찾기 목록 보기

### 데이터베이스 추가
```sql
-- 프로필 테이블
profiles {
  id: uuid
  email: string
  name: string
  created_at: timestamp
}

-- 즐겨찾기 테이블
favorites {
  user_id: uuid
  shop_id: uuid
  created_at: timestamp
}
```

### 체크리스트
- [ ] Supabase Auth 설정
- [ ] 회원가입/로그인 UI
- [ ] 세션 관리
- [ ] 즐겨찾기 기능 구현
- [ ] 마이페이지 UI

---

## Phase 7: 리뷰 시스템 (10주차)
### 목표
기본적인 리뷰 및 평점 시스템

### 구현 기능
1. **리뷰 작성**
   - 별점 (1-5)
   - 텍스트 리뷰
   - 작성일자

2. **리뷰 표시**
   - 상점별 리뷰 목록
   - 평균 평점 계산
   - 리뷰 개수 표시

### 데이터베이스 추가
```sql
-- 리뷰 테이블
reviews {
  id: uuid
  shop_id: uuid
  user_id: uuid
  rating: integer (1-5)
  content: text
  created_at: timestamp
}
```

### 체크리스트
- [ ] 리뷰 작성 UI
- [ ] 별점 컴포넌트
- [ ] 리뷰 목록 표시
- [ ] 평균 평점 계산 로직

---

## Phase 8: 관리자 기능 (11-12주차)
### 목표
상점 관리자를 위한 기본 기능

### 구현 기능
1. **상점 회원 등급**
   - 일반 사용자와 상점 관리자 구분
   - 권한 기반 UI 표시

2. **상점 정보 관리**
   - 내 상점 정보 수정
   - 영업시간 설정 (오프라인)
   - 취급 브랜드 관리

3. **간단한 대시보드**
   - 리뷰 현황
   - 즐겨찾기 수

### 체크리스트
- [ ] 사용자 권한 시스템
- [ ] 상점 정보 수정 UI
- [ ] 관리자 전용 메뉴

---

## 출시 전 체크리스트

### 필수 완료 사항
- [ ] 모든 Phase 기본 기능 구현
- [ ] 에러 처리 및 로딩 상태
- [ ] 네트워크 오류 처리
- [ ] 빈 상태 UI (데이터 없을 때)

### 성능 최적화
- [ ] 이미지 최적화
- [ ] 리스트 페이지네이션
- [ ] 캐싱 전략

### 테스트
- [ ] 주요 플로우 수동 테스트
- [ ] 다양한 디바이스 테스트
- [ ] iOS/Android 양쪽 테스트

### 배포 준비
- [ ] 앱 아이콘 제작
- [ ] 스플래시 화면 디자인
- [ ] 앱스토어 설명 작성
- [ ] 스크린샷 준비

---

## 향후 확장 계획 (Post-MVP)

### 단기 (3-6개월)
- 소셜 로그인 (구글, 애플, 카카오)
- 상점 사진 갤러리
- 푸시 알림
- 고급 필터링 (거리순, 평점순)

### 중장기 (6-12개월)
- 온라인 상점 상품 직접 표시
- 예약/픽업 시스템
- 커뮤니티 기능
- AI 기반 추천 시스템

---

## 개발 팁

### 우선순위 결정
1. 사용자가 가장 원하는 기능부터
2. 기술적으로 간단한 것부터
3. 의존성이 적은 기능부터

### 빠른 반복
- 2주 단위 스프린트
- 매 Phase 후 사용자 테스트
- 피드백 기반 우선순위 조정

### 기술 부채 관리
- MVP 단계에서는 완벽보다 작동 우선
- 리팩토링은 안정화 후 진행
- 중요한 버그만 즉시 수정

---

## 예상 일정

| Phase | 기간 | 누적 기간 | 상태 |
|-------|------|----------|------|
| Phase 1 | 1주 | 1주 | 기본 구조 |
| Phase 2 | 1주 | 2주 | 정적 데이터 |
| Phase 3 | 2주 | 4주 | DB 연동 |
| Phase 4 | 1주 | 5주 | 검색 |
| Phase 5 | 2주 | 7주 | 지도 |
| Phase 6 | 2주 | 9주 | 인증 |
| Phase 7 | 1주 | 10주 | 리뷰 |
| Phase 8 | 2주 | 12주 | 관리자 |

**총 MVP 개발 기간: 12주 (3개월)**

---

## 성공 지표 (MVP)

### 출시 1개월 내
- [ ] 100명 이상 다운로드
- [ ] 30개 이상 상점 등록
- [ ] 일 평균 10명 활성 사용자

### 출시 3개월 내
- [ ] 500명 이상 다운로드
- [ ] 100개 이상 상점 등록
- [ ] 일 평균 50명 활성 사용자
- [ ] 앱스토어 평점 4.0 이상